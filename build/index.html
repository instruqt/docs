
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Instruqt SDK - API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#vocabulary" class="toc-h1 toc-link" data-title="Vocabulary">Vocabulary</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#topic" class="toc-h2 toc-link" data-title="Vocabulary">Topic</a>
                  </li>
                  <li>
                    <a href="#track" class="toc-h2 toc-link" data-title="Vocabulary">Track</a>
                  </li>
                  <li>
                    <a href="#challenge" class="toc-h2 toc-link" data-title="Vocabulary">Challenge</a>
                  </li>
                  <li>
                    <a href="#participant" class="toc-h2 toc-link" data-title="Vocabulary">Participant</a>
                  </li>
                  <li>
                    <a href="#organization" class="toc-h2 toc-link" data-title="Vocabulary">Organization</a>
                  </li>
                  <li>
                    <a href="#developer" class="toc-h2 toc-link" data-title="Vocabulary">Developer</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#sdk" class="toc-h1 toc-link" data-title="SDK">SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#guidelines-for-created-content" class="toc-h2 toc-link" data-title="SDK">Guidelines for created content</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#install-sdk" class="toc-h1 toc-link" data-title="Install SDK">Install SDK</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#installing-instruqt" class="toc-h2 toc-link" data-title="Install SDK">Installing Instruqt</a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="Install SDK">Authentication</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#tracks" class="toc-h1 toc-link" data-title="Tracks">Tracks</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#creating-a-new-track" class="toc-h2 toc-link" data-title="Tracks">Creating a new track</a>
                  </li>
                  <li>
                    <a href="#track-content-track-yml" class="toc-h2 toc-link" data-title="Tracks">Track content (track.yml)</a>
                  </li>
                  <li>
                    <a href="#track-configuration-config-yml" class="toc-h2 toc-link" data-title="Tracks">Track configuration (config.yml)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#challenges" class="toc-h1 toc-link" data-title="Challenges">Challenges</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#create-challenges" class="toc-h2 toc-link" data-title="Challenges">Create challenges</a>
                  </li>
                  <li>
                    <a href="#create-quizzes" class="toc-h2 toc-link" data-title="Challenges">Create quizzes</a>
                  </li>
                  <li>
                    <a href="#create-notes" class="toc-h2 toc-link" data-title="Challenges">Create notes</a>
                  </li>
                  <li>
                    <a href="#challenge-content-track-yml" class="toc-h2 toc-link" data-title="Challenges">Challenge content (track.yml)</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#updating-your-track" class="toc-h1 toc-link" data-title="Updating your track">Updating your track</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#pulling-remote-changes" class="toc-h2 toc-link" data-title="Updating your track">Pulling remote changes</a>
                  </li>
                  <li>
                    <a href="#pushing-local-changes" class="toc-h2 toc-link" data-title="Updating your track">Pushing local changes</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#testing-amp-debugging" class="toc-h1 toc-link" data-title="Testing &amp; Debugging">Testing &amp; Debugging</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#testing-your-track" class="toc-h2 toc-link" data-title="Testing &amp; Debugging">Testing your track</a>
                  </li>
                  <li>
                    <a href="#debugging-your-track" class="toc-h2 toc-link" data-title="Testing &amp; Debugging">Debugging your track</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#embedding-tracks" class="toc-h1 toc-link" data-title="Embedding tracks">Embedding tracks</a>
          </li>
          <li>
            <a href="#api" class="toc-h1 toc-link" data-title="API">API</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#api-endpoint" class="toc-h2 toc-link" data-title="API">API Endpoint</a>
                  </li>
                  <li>
                    <a href="#api-authorization" class="toc-h2 toc-link" data-title="API">API Authorization</a>
                  </li>
                  <li>
                    <a href="#forming-graphql-calls" class="toc-h2 toc-link" data-title="API">Forming GraphQL Calls</a>
                  </li>
                  <li>
                    <a href="#api-reference" class="toc-h2 toc-link" data-title="API">API Reference</a>
                  </li>
                  <li>
                    <a href="#explore-the-api-interactively" class="toc-h2 toc-link" data-title="API">Explore the API interactively</a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Instruqt is an online learning platform. It teaches you by presenting bite-sized challenges that you need to complete in order to progress. Accompanying these challenges is the explanation of the tools and concepts, needed to complete them.</p>

<p>Through gamification features such as achievements, progression, rankings - but above all: interesting challenges - we try to keep the users engaged.</p>
<h1 id='vocabulary'>Vocabulary</h1><h2 id='topic'>Topic</h2>
<p>The top tier, called topics, describes higher order subjects. Examples of topics are:</p>

<ul>
<li>AWS Computing and Networking</li>
<li>Container Technology</li>
<li>CI/CD</li>
</ul>
<h2 id='track'>Track</h2>
<p>One tier down, these topics are split up into tracks. These are ordered lists of challenges, which are more technology focused.
Examples of tracks in the “AWS Computing and Networking” topic are:</p>

<ul>
<li>Creating Amazon EC2 instances</li>
<li>Working with Elastic Load balancing</li>
<li>Setting up high availability with auto-scaling</li>
</ul>
<h2 id='challenge'>Challenge</h2>
<p>The bottom tier are the challenges, which are bite-sized problems that need to be solved.
Each challenge consists of the explanation of the concept and technology followed by a hands-on assignment.
Examples of challenges in the “Creating Amazon EC2 Instances” track are:</p>

<ul>
<li>Create EC2 instance from template</li>
<li>Create a Security Group</li>
<li>Launch the instance</li>
</ul>
<h2 id='participant'>Participant</h2>
<p>A participant is a user that has joined a track. Each participant gets their own environment in which the challenges are done.
Users can participate in multiple tracks, each resulting in an isolated environment.</p>
<h2 id='organization'>Organization</h2>
<p>An organization owns topics and tracks. Users can be added to an organization using the Web SDK. When a user is part of an organization, he has access to all private topics and tracks of that organization.</p>
<h2 id='developer'>Developer</h2>
<p>Tracks can have one or more developers. Developers are responsible for creating a track. When a user is a developer for a track, he can make changes to that track. Users do not have to be part of an organization to be added as a developer to a track.</p>
<h1 id='sdk'>SDK</h1>
<p>Instruqt provides both a Web and a CLI version of the SDK. The Web SDK can be activated by enabling it in your profile menu. To use the CLI, you&#39;ll need to <a href="#install-cli">install</a> it.</p>
<h2 id='guidelines-for-created-content'>Guidelines for created content</h2>
<ul>
<li>A challenge touches one small subject</li>
<li>If multiple steps are required, chain challenges together in a track</li>
<li>Try to find the right balance between “fun” and “educational”</li>
<li>A challenge provides just enough hints</li>
<li>Googling the solution is encouraged</li>
<li>Don’t make a challenge too complex</li>
<li>Don’t add too much text in the assignment, use notes instead</li>
</ul>
<h1 id='install-sdk'>Install SDK</h1><h2 id='installing-instruqt'>Installing Instruqt</h2>
<p>Downloads the latest version from: <a href="https://github.com/instruqt/cli/releases/latest">https://github.com/instruqt/cli/releases/latest</a></p>
<h2 id='authentication'>Authentication</h2><pre class="highlight plaintext"><code>$ instruqt auth login
==&gt; Signing in to instruqt
==&gt; Please open the following address in your browser and
    sign in with your Instruqt credentials:
==&gt; http://localhost:15777/
==&gt; Storing credentials
    OK
</code></pre>
<p>In order to create and build tracks, you will need to authenticate with instruqt in order to communicate with the builder backend.
The <code>instruqt auth login</code> command will output a URL that you need to open in your browser.
After authenticating you will see that the CLI is storing credentials that it uses when executing the other commands. After this, the credentials will refresh itself.</p>
<h1 id='tracks'>Tracks</h1><h2 id='creating-a-new-track'>Creating a new track</h2><pre class="highlight plaintext"><code>$ instruqt track create --title "My first track" --organization my-org-slug
==&gt; Creating track
==&gt; Creating track files
    OK

    Created track directory and template:
      my-first-track/
      ├── config.yml
      └── track.yml
</code></pre>
<p>To create a new track you can use the instruqt CLI tool, which is included in the SDK. The <code>track create</code> command creates the track.yml and config.yml files with skeleton content.</p>
<pre class="highlight plaintext"><code>instruqt track create --title "My first track" --organization my-org-slug --identifier "my-other-first-track"
</code></pre>
<p>If there already exists a track with the exact same title (and therefor identifier), you can specify another identifier by passing in the identifier flag.</p>
<h2 id='track-content-track-yml'>Track content (track.yml)</h2><pre class="highlight yaml tab-yaml"><code><span class="c1"># track.yml</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">track</span>
<span class="na">slug</span><span class="pi">:</span> <span class="s">my-first-track</span>
<span class="na">icon</span><span class="pi">:</span> <span class="s">https://storage.googleapis.com/instruqt-frontend/img/tracks/default.png</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">My first track</span>
<span class="na">teaser</span><span class="pi">:</span> <span class="s">A short description of the track.</span>
<span class="na">description</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="no">A long description of the track.</span>

  <span class="no">You can use any GitHub flavoured markdown.</span>
<span class="na">tags</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">challenges</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">owner</span><span class="pi">:</span> <span class="s">my-org-slug</span>
<span class="na">developers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">bas@instruqt.com</span>
<span class="na">published</span><span class="pi">:</span> <span class="s">false</span>
<span class="na">private</span><span class="pi">:</span> <span class="s">true</span>
</code></pre>
<p>After the track is created, fill out the track.yml and config.yml files with the needed information.
The track object contains the metadata that describes a track.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the track. Can either be <code>track</code> or <code>sandbox</code>. Defaults to <code>track</code>.</td>
</tr>
<tr>
<td><strong>slug</strong></td>
<td>string</td>
<td>A string that is the ID of the track. The value of the ID should be globally unique.</td>
</tr>
<tr>
<td><strong>icon</strong></td>
<td>string</td>
<td>The URL of the icon that is to be shown with the track. The size of the icon should be 48x48 pixels.</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the track.</td>
</tr>
<tr>
<td><strong>teaser</strong></td>
<td>string</td>
<td>A short description of the track, which is shown in the track list.</td>
</tr>
<tr>
<td><strong>description</strong></td>
<td>string</td>
<td>A full description of the track, which is shown at the track details.</td>
</tr>
<tr>
<td><strong>tags</strong></td>
<td>list</td>
<td>A list of strings that represent tags associated with the track.</td>
</tr>
<tr>
<td><strong>challenges</strong></td>
<td>list</td>
<td>A list of challenges that belong to the track.</td>
</tr>
<tr>
<td><strong>owner</strong></td>
<td>string</td>
<td>The slug of the organization that owns this track.</td>
</tr>
<tr>
<td><strong>developers</strong></td>
<td>list</td>
<td>The developers of this track. Developers can preview the track when it is not yet published.</td>
</tr>
<tr>
<td><strong>published</strong></td>
<td>bool</td>
<td>Whether the track is published or not. When unpublished, the tracks is only visible to the track developers.</td>
</tr>
<tr>
<td><strong>private</strong></td>
<td>bool</td>
<td>Whether the track is visible outside an organization.</td>
</tr>
<tr>
<td><strong>maintenance</strong></td>
<td>bool</td>
<td>Whether the track is in maintenance. When <code>true</code>, the track can only be started by track developers. It remains visible to other users, but will show a maintenance banner.</td>
</tr>
</tbody></table>
<h2 id='track-configuration-config-yml'>Track configuration (config.yml)</h2><pre class="highlight yaml tab-yaml"><code><span class="c1"># config.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s">2</span>
<span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">container</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">alpine</span>
  <span class="na">ports</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">8080</span>
  <span class="pi">-</span> <span class="s">9090</span>
  <span class="na">resources</span><span class="pi">:</span>
    <span class="na">memory</span><span class="pi">:</span> <span class="s">128</span>
  <span class="na">shell</span><span class="pi">:</span> <span class="s">/bin/bash</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="na">ENV_VAR</span><span class="pi">:</span> <span class="s">value</span>
    <span class="na">ANOTHER</span><span class="pi">:</span> <span class="s">one</span>
<span class="na">virtualmachines</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">vm</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">debian-9</span>
  <span class="na">machine_type</span><span class="pi">:</span> <span class="s">g1-small</span>
  <span class="na">pool_size</span><span class="pi">:</span> <span class="s">1</span>
  <span class="na">shell</span><span class="pi">:</span> <span class="s">/bin/bash</span>
  <span class="na">environment</span><span class="pi">:</span>
    <span class="na">ENV_VAR</span><span class="pi">:</span> <span class="s">value</span>
    <span class="na">ANOTHER</span><span class="pi">:</span> <span class="s">one</span>
<span class="na">gcp_projects</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">gcp-project</span>
  <span class="na">services</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">cloudresourcemanager.googleapis.com</span>
  <span class="pi">-</span> <span class="s">compute.googleapis.com</span>
<span class="na">aws_accounts</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">aws-account</span>
  <span class="na">iam_policy</span><span class="pi">:</span> <span class="pi">|</span>
    <span class="no">{</span>
      <span class="no">"Version": "2012-10-17",</span>
      <span class="no">"Statement": [</span>
        <span class="no">{</span>
          <span class="no">"Effect": "Allow",</span>
          <span class="no">"Action": "cloudformation:*",</span>
          <span class="no">"Resource": "*"</span>
        <span class="no">}</span>
      <span class="no">]</span>
    <span class="no">}</span>
  <span class="na">managed_policies</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">arn:aws:iam::aws:policy/AmazonEC2FullAccess</span>
</code></pre>
<p>The config object defines the environment that will be created for the participant. Configurations support containers, virtual machines and GCP projects. Depending on the resource type, different values need to be supplied in the configuration file.</p>
<h3 id='containers'>Containers</h3>
<p>Every container can define it&#39;s needed resources and the ports it wants to expose.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>The name you can use in your track.yml to connect to this container</td>
</tr>
<tr>
<td><strong>image</strong></td>
<td>string</td>
<td>The docker image to use for the container.</td>
</tr>
<tr>
<td><strong>entrypoint</strong></td>
<td>string</td>
<td>Optional. When specified, this will override the <code>ENTRYPOINT</code> as defined in the container image.</td>
</tr>
<tr>
<td><strong>cmd</strong></td>
<td>string</td>
<td>Optional. When specified, this will override the <code>CMD</code> as defined in the container image.</td>
</tr>
<tr>
<td><strong>shell</strong></td>
<td>string</td>
<td>Optional. The shell that will be started in the terminal window. Defaults to /bin/sh.</td>
</tr>
<tr>
<td><strong>ports</strong></td>
<td>list</td>
<td>Optional. A list of port numbers to expose.</td>
</tr>
<tr>
<td><strong>environment</strong></td>
<td>map</td>
<td>Optional. A map of key-value pairs that will be injected as environment variables.</td>
</tr>
<tr>
<td><strong>memory</strong></td>
<td>int</td>
<td>Optional. The memory the container needs in MB. Defaults to 32MB.</td>
</tr>
</tbody></table>
<h3 id='virtual-machines'>Virtual Machines</h3>
<p>Every virtual machine can define it&#39;s needed resources and the ports it wants to expose.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>The name you can use in your track.yml to connect to this VM.</td>
</tr>
<tr>
<td><strong>image</strong></td>
<td>string</td>
<td>The vm image to use for the container. See <a href="https://www.terraform.io/docs/providers/google/r/compute_instance.html#image">https://www.terraform.io/docs/providers/google/r/compute_instance.html#image</a> for a list of valid values.</td>
</tr>
<tr>
<td><strong>machine_type</strong></td>
<td>string</td>
<td>The machine type of the VM. See <a href="https://cloud.google.com/compute/docs/machine-types">https://cloud.google.com/compute/docs/machine-types</a> for an overview of available machine types</td>
</tr>
<tr>
<td><strong>environment</strong></td>
<td>map</td>
<td>A map of key-value pairs that will be injected as environment variables</td>
</tr>
<tr>
<td><strong>shell</strong></td>
<td>string</td>
<td>The shell that will be started in the terminal window. Optional, defaults to /bin/sh.</td>
</tr>
</tbody></table>
<h3 id='gcp-projects'>GCP Projects</h3>
<p>Every GCP Project can define the services that need to be enabled.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>The display name of the GCP project that will be created</td>
</tr>
<tr>
<td><strong>services</strong></td>
<td>list</td>
<td>A list of services that should be enabled on the project. See <a href="https://cloud.google.com/service-usage/docs/list-services">https://cloud.google.com/service-usage/docs/list-services</a> for all available services</td>
</tr>
</tbody></table>
<h3 id='using-gcp-projects'>Using GCP Projects</h3>
<p>For every project, a set of environment variables <code>INSTRUQT_GCP_PROJECT_${NAME}_*</code> will be injected into the containers and virtual machines of this track. <code>${NAME}</code> will be replaced with the name of the GCP project (converted to upper case, dashes replaced with underscores, and non alphanumeric characters will be removed).</p>

<table><thead>
<tr>
<th>environment variable</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>INSTRUQT_GCP_PROJECTS</code></td>
<td>Comma separated list of project names<br>Can be used to fill <code>${NAME}</code> in the variables below</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_PROJECT_NAME</code></td>
<td>Project Display Name</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_PROJECT_ID</code></td>
<td>Project ID</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_USER_EMAIL</code></td>
<td>Email address of user that has access to project</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_USER_PASSWORD</code></td>
<td>Password of user</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_SERVICE_ACCOUNT_EMAIL</code></td>
<td>Email address of services account for this project</td>
</tr>
<tr>
<td><code>INSTRUQT_GCP_PROJECT_${NAME}_SERVICE_ACCOUNT_KEY</code></td>
<td>Base64 encoded key for the services account</td>
</tr>
</tbody></table>
<h3 id='aws-accounts'>AWS Accounts</h3>
<p>Every AWS Account can define what IAM policy has to be applied, and/or which managed polices need to be attached.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>The display name of the AWS account that will be created</td>
</tr>
<tr>
<td><strong>iam_policy</strong></td>
<td>string</td>
<td>An IAM policy document, that will be attached to the account</td>
</tr>
<tr>
<td><strong>managed_policies</strong></td>
<td>list</td>
<td>A list of <a href="https://docs.aws.amazon.com/IAM/latest/UserGuide/access_policies_managed-vs-inline.html">managed policies</a> that should be attached to the account. They can be AWS managed polices, or customer managed policies.</td>
</tr>
</tbody></table>
<h3 id='using-aws-accounts'>Using AWS Accounts</h3>
<p>For every AWS account, a set of environment variables <code>INSTRUQT_AWS_ACCOUNT_${NAME}_*</code> will be injected into the containers and virtual machines of this track. <code>${NAME}</code> will be replaced with the name of the AWS account (converted to upper case, dashes replaced with underscores, and non alphanumeric characters will be removed).</p>

<table><thead>
<tr>
<th>environment variable</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNTS</code></td>
<td>Comma separated list of account names<br>Can be used to fill <code>${NAME}</code> in the variables below</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_ACCOUNT_NAME</code></td>
<td>Account Display Name</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_ACCOUNT_ID</code></td>
<td>Account ID</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_USERNAME</code></td>
<td>Username of IAM user that can be used to sign into console</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_PASSWORD</code></td>
<td>Password of IAM user</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_AWS_ACCESS_KEY_ID</code></td>
<td><code>AWS_ACCESS_KEY_ID</code> for this account</td>
</tr>
<tr>
<td><code>INSTRUQT_AWS_ACCOUNT_${NAME}_AWS_SECRET_ACCESS_KEY</code></td>
<td><code>AWS_SECRET_ACCESS_KEY</code> for this account</td>
</tr>
</tbody></table>
<h3 id='cloud-client-container'>cloud-client container</h3><pre class="highlight yaml tab-yaml"><code><span class="c1"># config.yml</span>
<span class="na">containers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">cloud-client</span>
  <span class="na">image</span><span class="pi">:</span> <span class="s">gcr.io/instruqt/cloud-client</span>
  <span class="na">ports</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">80</span><span class="pi">]</span>
  <span class="na">shell</span><span class="pi">:</span> <span class="s">/bin/bash</span>

<span class="c1"># track.yml</span>
<span class="na">challenges</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">slug</span><span class="pi">:</span> <span class="s">my-challenge</span>
  <span class="na">tabs</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">service</span>
    <span class="na">title</span><span class="pi">:</span> <span class="s">Cloud Consoles</span>
    <span class="na">hostname</span><span class="pi">:</span> <span class="s">cloud-client</span>
    <span class="na">port</span><span class="pi">:</span> <span class="s">80</span>
    <span class="na">path</span><span class="pi">:</span> <span class="s">/</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">terminal</span>
    <span class="na">title</span><span class="pi">:</span> <span class="s">Cloud CLI</span>
    <span class="na">hostname</span><span class="pi">:</span> <span class="s">cloud-client</span>
</code></pre>
<p>There is also a Cloud Client container available to expose links to the GCP Cloud Consoles and AWS Console for the resources configured in the config.yml, with the credentials required to login. It also includes the <code>gcloud</code> and <code>aws</code> cli, pre-configured with the required credentials.</p>

<p>To enable this, add the <code>gcr.io/instruqt/cloud-client</code> container to your config.yml. And add extra tabs to the challenges, where you want to expose the Consoles or cli tools.</p>
<h1 id='challenges'>Challenges</h1><h2 id='create-challenges'>Create challenges</h2><pre class="highlight plaintext"><code>$ instruqt challenge create --title "First challenge"
==&gt; Creating challenge
==&gt; Reading track definition
    OK
==&gt; Creating challenge files
    OK

    Created challenge directory and template:
      my-first-track/
      └── first-challenge/
          ├── check-shell
          ├── cleanup-shell
          ├── setup-shell
          └── solve-shell
</code></pre>
<p>If you have followed the previous step and have your track information and environment configuration set up, you can start creating challenges. First of all, make sure you are in the newly created directory, in this example <code>my-first-track</code>.</p>
<h2 id='create-quizzes'>Create quizzes</h2><pre class="highlight yaml tab-yaml"><code><span class="c1"># track.yml</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">track</span>
<span class="na">slug</span><span class="pi">:</span> <span class="s">my-first-track</span>
<span class="na">icon</span><span class="pi">:</span> <span class="s">https://storage.googleapis.com/instruqt-frontend/img/tracks/default.png</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">My first track</span>
<span class="na">teaser</span><span class="pi">:</span> <span class="s">A short description of the track.</span>
<span class="na">description</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="no">A long description of the track.</span>

  <span class="no">You can use any GitHub flavoured markdown.</span>
<span class="na">tags</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">challenges</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">quiz</span>
    <span class="na">slug</span><span class="pi">:</span> <span class="s">first-challenge</span>
    <span class="na">title</span><span class="pi">:</span> <span class="s">First challenge</span>
    <span class="na">teaser</span><span class="pi">:</span> <span class="s">A short description of the challenge.</span>
    <span class="na">notes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">text</span>
      <span class="na">contents</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="no">Quiz time!</span>
    <span class="na">assignment</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="no">What is the answer to this very tricky question?</span>
    <span class="na">answers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">No one knows</span>
      <span class="pi">-</span> <span class="s">42</span>
      <span class="pi">-</span> <span class="s">Yes</span>
      <span class="pi">-</span> <span class="s">None of the above</span>
    <span class="na">solution</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">1</span>
      <span class="pi">-</span> <span class="s">2</span>
    <span class="na">timelimit</span><span class="pi">:</span> <span class="s">900</span>
<span class="na">developers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">hello@instruqt.com</span>
<span class="na">published</span><span class="pi">:</span> <span class="s">true</span>
</code></pre>
<p>If you want to create a quiz challenge, simply create a normal challenge as described above. There are a few extra fields to cover in the challenge section of the track.yml file. All fields for a challenge can be found below at the challenge fields section</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the challenge. Use <code>quiz</code> for quiz challenges.</td>
</tr>
<tr>
<td><strong>assignment</strong></td>
<td>string</td>
<td>The quiz question.</td>
</tr>
<tr>
<td><strong>answers</strong></td>
<td>list</td>
<td>A list with the possible answers in the challenge</td>
</tr>
<tr>
<td><strong>solution</strong></td>
<td>list</td>
<td>A list of numbers with the indexes of the correct answers. Multiple correct answers are possible.</td>
</tr>
<tr>
<td><strong>tabs</strong></td>
<td>list</td>
<td>There is no need to specify any tabs when creating a quiz challenge.</td>
</tr>
</tbody></table>

<p>In the given example the question asked will be <code>What is the answer to this very tricky question?</code> with the following answers possible:</p>

<ul>
<li>No one knows [index 0]</li>
<li>42 [index 1]</li>
<li>Yes [index 2]</li>
<li>None of the above [index 3]</li>
</ul>

<p>The correct solutions are:</p>

<ul>
<li>1 [index 1: 42]</li>
<li>2 [index 2: Yes]</li>
</ul>

<p>The participant will need to provide only one correct answer to pass the quiz.</p>
<h2 id='create-notes'>Create notes</h2><pre class="highlight plaintext"><code>instruqt note create \
  --type [text|image|video] \
  --challenge “slug-of-the-challenge”
</code></pre>
<p>The note is displayed when the infrastructure of your challenge is being created. You can display markdown text but also open a webpage.</p>

<p>To create a note, run <code>instruqt note create --type &lt;type&gt; --challenge &lt;challenge-slug&gt;</code>.</p>

<p>This will add the note to your challenge. Check the track.yml for the result!</p>
<h2 id='challenge-content-track-yml'>Challenge content (track.yml)</h2><pre class="highlight yaml tab-yaml"><code><span class="c1"># track.yml</span>
<span class="na">type</span><span class="pi">:</span> <span class="s">track</span>
<span class="na">slug</span><span class="pi">:</span> <span class="s">my-first-track</span>
<span class="na">icon</span><span class="pi">:</span> <span class="s">https://storage.googleapis.com/instruqt-frontend/img/tracks/default.png</span>
<span class="na">title</span><span class="pi">:</span> <span class="s">My first track</span>
<span class="na">teaser</span><span class="pi">:</span> <span class="s">A short description of the track.</span>
<span class="na">description</span><span class="pi">:</span> <span class="pi">|</span>
  <span class="no">A long description of the track.</span>

  <span class="no">You can use any GitHub flavoured markdown.</span>
<span class="na">tags</span><span class="pi">:</span> <span class="pi">[]</span>
<span class="na">challenges</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">challenge</span>
    <span class="na">slug</span><span class="pi">:</span> <span class="s">first-challenge</span>
    <span class="na">title</span><span class="pi">:</span> <span class="s">First challenge</span>
    <span class="na">teaser</span><span class="pi">:</span> <span class="s">A short description of the challenge.</span>
    <span class="na">notes</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">text</span>
      <span class="na">contents</span><span class="pi">:</span> <span class="pi">|</span>
        <span class="no">The contents of the note.</span>

        <span class="no">You can use any GitHub flavoured markdown.</span>
    <span class="na">assignment</span><span class="pi">:</span> <span class="pi">|</span>
      <span class="no">The assignment the participant needs to complete in order to proceed.</span>

      <span class="no">You can use any GitHub flavoured markdown.</span>
    <span class="na">timelimit</span><span class="pi">:</span> <span class="s">900</span>
    <span class="na">tabs</span><span class="pi">:</span>
    <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">terminal</span>
      <span class="na">title</span><span class="pi">:</span> <span class="s">Shell</span>
      <span class="na">hostname</span><span class="pi">:</span> <span class="s">shell</span>
<span class="na">organization</span><span class="pi">:</span> <span class="s">my-org-slug</span>
<span class="na">developers</span><span class="pi">:</span>
<span class="pi">-</span> <span class="s">hello@instruqt.com</span>
<span class="na">published</span><span class="pi">:</span> <span class="s">true</span>
</code></pre>
<p>The challenge create command fills the challenges property of your track.yml file with a new challenge. track.yml complete with challenge.</p>
<h3 id='challenge-fields'>Challenge fields</h3>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the challenge. Can either be <code>challenge</code> or <code>quiz</code></td>
</tr>
<tr>
<td><strong>slug</strong></td>
<td>string</td>
<td>A unique ID within the scope of the track.</td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the challenge.</td>
</tr>
<tr>
<td><strong>teaser</strong></td>
<td>string</td>
<td>A short description of the challenge, shown in the challenge list.</td>
</tr>
<tr>
<td><strong>notes</strong></td>
<td>list</td>
<td>A list of notes that provide the user with context and background information.</td>
</tr>
<tr>
<td><strong>assignment</strong></td>
<td>string</td>
<td>A description of the actual challenge the user needs to complete or the challenge question if the challenge type is quiz.</td>
</tr>
<tr>
<td><strong>timelimit</strong></td>
<td>int</td>
<td>The time in seconds before a challenge is automatically failed and stopped.</td>
</tr>
<tr>
<td><strong>tabs</strong></td>
<td>list</td>
<td>A list of services that are exposed to the user in the browser, where each service has its own tab</td>
</tr>
<tr>
<td><strong>answers</strong></td>
<td>[]string</td>
<td>An array of string that with the possible answers in the challenge</td>
</tr>
<tr>
<td><strong>solution</strong></td>
<td>[]int</td>
<td>An array of integers with the indexes of the correct answers. Multiple correct answers are possible.</td>
</tr>
</tbody></table>
<h4 id='note'>Note</h4>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the note. Can be any of the following: <code>text</code>, <code>image</code> or <code>video</code>.</td>
</tr>
<tr>
<td><strong>contents</strong></td>
<td>string</td>
<td>Only usable with type=text. The contents of the note</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>string</td>
<td>Only usable with type=image or type=video. The url link of the image or url of the video</td>
</tr>
</tbody></table>
<h4 id='tabs'>tabs</h4><h5 id='type-terminal'>type: terminal</h5>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the tab, in this case: <code>terminal</code></td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the tab</td>
</tr>
<tr>
<td><strong>hostname</strong></td>
<td>string</td>
<td>The name of the machine used in this tab. Must match the name of the container or virtual machine as described in your config.yml</td>
</tr>
</tbody></table>
<h5 id='type-code'>type: code</h5>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the tab, in this case: <code>code</code></td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the tab</td>
</tr>
<tr>
<td><strong>hostname</strong></td>
<td>string</td>
<td>The name of the machine used in this tab. Must match the name of the container or virtual machine as described in your config.yml</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td>string</td>
<td>The path on host that will be visible in the editor</td>
</tr>
</tbody></table>
<h5 id='type-website'>type: website</h5>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the tab, in this case: <code>website</code></td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the tab</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>string</td>
<td>the url of the website opened in this browser. Must be a <strong>https://</strong> address</td>
</tr>
</tbody></table>
<h5 id='type-external'>type: external</h5>
<p>An external tab opens a URL in a new window. This is similar to tabs of type <code>website</code>, but useful for websites that cannot be included in an iframe.</p>

<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the tab, in this case: <code>external</code></td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the tab</td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>string</td>
<td>the url of the website opened in this browser</td>
</tr>
</tbody></table>
<h5 id='type-service'>type: service</h5>
<table><thead>
<tr>
<th>field</th>
<th>type</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>type</strong></td>
<td>string</td>
<td>The type of the tab, in this case <code>service</code></td>
</tr>
<tr>
<td><strong>title</strong></td>
<td>string</td>
<td>The title of the tab</td>
</tr>
<tr>
<td><strong>hostname</strong></td>
<td>string</td>
<td>The name of the machine used in this tab. Must match the name of the container or virtual machine as described in your config.yml</td>
</tr>
<tr>
<td><strong>port</strong></td>
<td>int</td>
<td>The port used to connect to this container. Must match an exposed port in your config.yml</td>
</tr>
<tr>
<td><strong>path</strong></td>
<td>string</td>
<td>The path of the website, will be appended to the constructed URL.</td>
</tr>
</tbody></table>
<h3 id='challenge-scripts'>Challenge scripts</h3>
<p>Challenge scripts provide the automation hooks for interacting with the infrastructure of the track. There are 4 types of scripts:</p>

<table><thead>
<tr>
<th>script</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td><code>setup-&lt;hostname&gt;</code></td>
<td>This script is run when the user starts this challenge</td>
</tr>
<tr>
<td><code>check-&lt;hostname&gt;</code></td>
<td>This script is run when the user clicks on the &quot;Check&quot; button</td>
</tr>
<tr>
<td><code>cleanup-&lt;hostname&gt;</code></td>
<td>This script is run when the user has successfully completed the challenge</td>
</tr>
<tr>
<td><code>solve-&lt;hostname&gt;</code></td>
<td>This script is used for testing the track.</td>
</tr>
</tbody></table>

<p>For every challenge, you can add one of these scripts for every container or virtual machine in the track config. Use the <code>hostname</code> of the container of virtual machine to in the name of the scripts.</p>
<h4 id='setup'>Setup</h4><pre class="highlight shell"><code><span class="c">#!/bin/bash</span>
<span class="c"># setup</span>
<span class="nb">echo</span> <span class="s2">"Setting up the challenge"</span>
<span class="k">if</span> <span class="o">[</span> !<span class="nv">$EVERYTHING_WENT_WELL</span> <span class="o">]</span>; <span class="k">then
  </span><span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre>
<p>This file is ran when starting the challenge. Use this script to:</p>

<ul>
<li>create files that are necessary for the challenge</li>
<li>download and install specific binaries, that are not included in the docker image</li>
<li>set the appropriate state of your services (i.e. start a docker container)</li>
</ul>
<h4 id='check'>Check</h4><pre class="highlight shell"><code><span class="c">#!/bin/bash</span>
<span class="c"># check</span>
<span class="nb">echo</span> <span class="s2">"Checking the solution of the challenge"</span>
<span class="k">if</span> <span class="o">[</span> !<span class="nv">$EVERYTHING_WENT_WELL</span> <span class="o">]</span>; <span class="k">then
  </span>fail-message <span class="s2">"Your challenge failed because of [REASON]"</span>
<span class="k">fi</span>
</code></pre>
<p>This file is ran when you click the check button. Pointers:</p>

<ul>
<li>make sure you validate as strictly as possible. If you allow multiple ways to solve a challenge, the start situation of your next challenge will be much harder to predict.</li>
</ul>
<h4 id='cleanup'>Cleanup</h4><pre class="highlight shell"><code><span class="c">#!/bin/bash</span>
<span class="c"># cleanup</span>
<span class="nb">echo</span> <span class="s2">"Cleaning up after the challenge"</span>
<span class="k">if</span> <span class="o">[</span> !<span class="nv">$EVERYTHING_WENT_WELL</span> <span class="o">]</span>; <span class="k">then
  </span><span class="nb">exit </span>1
<span class="k">fi</span>
</code></pre>
<p>This file runs when the check is successful. Use this script to:</p>

<ul>
<li>undo changes that are not required for the next challenge.</li>
</ul>
<h4 id='solve'>Solve</h4><pre class="highlight shell"><code><span class="c">#!/bin/bash</span>
<span class="c"># solve</span>
<span class="nb">echo</span> <span class="s2">"Solving the challenge"</span>
</code></pre>
<p>This file is used for testing your check. It is used as part of a test cycle:</p>

<ol>
<li><code>setup</code></li>
<li><code>check</code> (expect failure)</li>
<li><code>solve</code></li>
<li><code>check</code> (expect success)</li>
<li><code>cleanup</code></li>
</ol>
<h4 id='helper-functions'>Helper functions</h4><pre class="highlight shell"><code><span class="c"># set-workdir sets the workdir for the challenge. The shell will start in this directory.</span>
<span class="nb">set</span>-workdir <span class="nv">$DIRECTORY</span>

<span class="c"># fail-message exits the script with return code 1 and returns a message to the user.</span>
fail-message <span class="nv">$MESSAGE</span>
</code></pre>
<p>These are helper functions that are available for your challenge scripts.</p>
<h1 id='updating-your-track'>Updating your track</h1>
<p>To sync your local and remote changes, you can use the <code>instruqt track pull</code> and <code>instruqt track push</code> commands.</p>
<h2 id='pulling-remote-changes'>Pulling remote changes</h2><pre class="highlight plaintext"><code>$ instruqt track pull
==&gt; Pulling track for track my-track
    Updating local track:
    ├── track.yml
    ├── config.yml
    └── first-challenge/
        ├── check-shell
        ├── cleanup-shell
        ├── setup-shell
        └── solve-shell
</code></pre>
<p>To fetch changes made using the Web SDK, you can use the <code>instruqt track pull</code> command. If you do not have a local copy yet, you can pass the <code>--organization &lt;organization-slug&gt;</code> and <code>--slug &lt;track-slug&gt;</code> flags to specify which track you want to pull.</p>
<pre class="highlight plaintext"><code>$ instruqt track pull
==&gt; Pulling track for track my-track
    [ERROR] Track has both remote and local changes

    Writing remote track to '*.remote' files, please update your local track before pushing. Either:
    1) Use `instruqt track pull --force` to overwrite your local changes, or
    2) Resolve the differences yourself using your favorite diff tool and editor.

    Writing track:
    ├── track.yml.remote
    ├── config.yml.remote
    └── first-challenge/
        ├── check-shell.remote
        ├── cleanup-shell.remote
        ├── setup-shell.remote
        └── solve-shell.remote
</code></pre>
<p>When you also have local changes, you can add a <code>--force</code> flag to overwrite these local changes. Otherwise the CLI will write the remote track to <code>*.remote</code> files.</p>
<h2 id='pushing-local-changes'>Pushing local changes</h2><pre class="highlight plaintext"><code>$ instruqt track push
==&gt; Validating track
==&gt; Reading track definition
    OK
==&gt; Reading track configuration
    OK
==&gt; Checking track config
    OK
==&gt; Checking tabs
    OK
==&gt; Checking scripts
    OK
==&gt; Checking for leftover *.remote files
    OK
==&gt; Reading track definition
    OK
==&gt; Pushing track
    OK
==&gt; Building track
    OK
==&gt; Deploying track
    OK
==&gt; Updating local track:
    ├── track.yml
    ├── config.yml
    └── first-challenge/
        ├── check-shell
        ├── cleanup-shell
        ├── setup-shell
        └── solve-shell
    OK
</code></pre>
<p>If you made changes to your track you will need to push these changes. By default, when pushing a track, it will also be built and deployed.</p>

<p>If only want to push the changes, but do not want to deploy it yet, add a <code>--deploy=false</code> flag. This might be useful for when you want to continue editing the track in the Web SDK, or if you want to share it with a fellow developer.</p>

<p>After pushing the track, it will be updated with the remote id&#39;s of your track and challenges. Be sure to reload the track.yml file in your editor to prevent overwriting of the id&#39;s. These id&#39;s will be used to match your local challenges with the remote challenges.</p>
<h1 id='testing-amp-debugging'>Testing &amp; Debugging</h1><h2 id='testing-your-track'>Testing your track</h2><pre class="highlight shell_session"><code><span class="w">$ </span><span class="nc">instruqt</span><span class="kv"> track test --skip-fail-check
</span>==&gt; Testing track 'instruqt/getting-started-with-instruqt' (ID: b5wj5h80rk0y)
    Creating environment ...... OK

==&gt; Testing challenge [1/3] 'your-first-challenge' (ID: dkkgekwurtqu)
    Setting up challenge              ... OK
    Starting challenge                OK
    Running check, expecting failure  SKIPPED
    Running solve                     OK
    Running check, expecting success  OK

==&gt; Testing challenge [2/3] 'navigate-between-tabs' (ID: kb7ww4qxf7or)
    Setting up challenge              . OK
    Starting challenge                OK
    Running check, expecting failure  SKIPPED
    Running solve                     OK
    Running check, expecting success  OK

==&gt; Testing challenge [3/3] 'solving-a-real-challenge' (ID: vfp4xg0ffxpd)
    Setting up challenge              OK
    Starting challenge                OK
    Running check, expecting failure  SKIPPED
    Running solve                     OK
    Running check, expecting success  FAIL
    [ERROR] Error verifying check: Expected challenge status 'completed', but got 'started'

    Check `instruqt track logs` for details
</code></pre>
<p>Instruqt offers you the option to automatically test your track. For this the CLI includes an <code>instruqt track test</code> command. When running this command, we start a new instance of your track, and for every challenge we execute the following steps:</p>

<ol>
<li>Setup challenge</li>
<li>Start challenge</li>
<li>Check challenge, and expect it to fail</li>
<li>Solve challenge</li>
<li>Check challenge again, but this time expect it to succeed</li>
</ol>

<p>The test will stop running either when one of these verification steps fails, or when all of them have complete successfully.</p>

<p>By running these steps we mimic the users behavior, and validate that the track starts properly and that the challenge life cycle scripts (<code>setup</code>, <code>check</code> and <code>solve</code>) have been implemented correctly.</p>

<p>If you have not implemented check scripts for your track, the third step (expecting check failure) will fail. In this case you can add the <code>--skip-fail-check</code> flag to the <code>instruqt track test</code> command. It will then skip the failure verification.</p>

<p>When the test has finished, it will automatically stop the track and mark if for cleanup. If you would like to keep it running afterwards, add the <code>--keep-running</code> flag. This might be useful if you are trying to debug an issue with your scripts, and want to inspect the environment after the test has finished. If you are running the test with your <a href="#test-authentication">personal credentials</a>, you can then go to <a href="https://instruqt.com">instruqt.com</a> and continue with the track where the test finished.</p>
<h3 id='running-tests'>Running tests</h3>
<p>To run a test for a specific track, you can either:</p>

<ul>
<li>pass the <code>--id &lt;track-id&gt;</code> flag;</li>
<li>pass the <code>--slug &lt;org-slug&gt;/&lt;track-slug&gt;</code> flag; or</li>
<li>run it from the folder where the tracks <code>track.yml</code> is</li>
</ul>
<h3 id='test-authentication'>Test authentication</h3>
<p>When running tests locally, the CLI will use you <a href="#authentication">personal credentials</a>.</p>

<p>When running test from an automated system (e.g. a CI server), you can authenticate using an <a href="#api-authorization">API token</a>.
To run a test with a token, just set the environment variable <code>INSTRUQT_TOKEN</code> with the value of you API token.</p>
<h3 id='screen-cast-of-running-a-test'>Screen cast of running a test</h3>
<p><a href="https://asciinema.org/a/3fsAOqFqiVhq0jaKW0yLXflvP"><img src="https://asciinema.org/a/3fsAOqFqiVhq0jaKW0yLXflvP.svg" alt="asciicast" /></a></p>
<h2 id='debugging-your-track'>Debugging your track</h2><pre class="highlight shell_session"><code><span class="w">$ </span><span class="nc">instruqt</span><span class="kv"> track logs
</span>==&gt; Tailing logs for track my-track
2018/09/14 11:13:17 INFO: h84attob7rnw-8c64aa11957d79c2c40f3fb1b9d1096a: - module.core
2018/09/14 11:13:17 INFO: h84attob7rnw-8c64aa11957d79c2c40f3fb1b9d1096a: Initializing the backend...
...
</code></pre>
<p>When developing your track, you might run into situations where you need debug logs.</p>

<p>The CLI includes an <code>instruqt track logs</code> command, that you can use to get the logs of the instances of your track. All output of spinning up the environments for your track, as well as the output of the <code>check</code>, <code>cleanup</code> and <code>setup</code> scripts is available using this command.</p>

<p>This command will tail the logs until you cancel it (ctrl-c).</p>

<p>You can run this command from the folder where your <code>track.yml</code> is, or you can pass <code>--organization</code> and <code>--slug</code> flags to specify for which track you want to see the logs.</p>
<h1 id='embedding-tracks'>Embedding tracks</h1><pre class="highlight plaintext"><code>&lt;iframe
  width="700" height="500"
  sandbox="allow-same-origin allow-scripts allow-popups allow-forms"
  src="https://instruqt.com/embed/instruqt/getting-started-with-instruqt-embedded"
  style="border: 0;"&gt;
&lt;/iframe&gt;
</code></pre>
<p>You can also embed your Instruqt track in other pages, like your documentation sites or blog posts. To embed your track, visit the embed section of your track page. That will give you a code snippet that you can include in any page. An example of an embedded track is given below.</p>

<p><iframe width="100%" height="500" sandbox="allow-same-origin allow-scripts allow-popups allow-forms" src="https://instruqt.com/embed/instruqt/getting-started-with-instruqt-embedded" style="border: 0;"></iframe></p>
<h1 id='api'>API</h1>
<p>Instruqt uses <a href="https://graphql.org">GraphQL</a> for its API.</p>
<h2 id='api-endpoint'>API Endpoint</h2>
<p>The API endpoint for instruqt is: <code>https://instruqt.com/graphql</code>.</p>

<p>GraphQL has a single endpoint, so no matter what operation you perform, this endpoint remains the same.</p>
<h2 id='api-authorization'>API Authorization</h2>
<p>To use the API, you&#39;ll need to create an API token for your organization. Go to your organization overview page on <a href="https://instruqt.com">instruqt.com</a>, click &quot;Manage Organization&quot; and select &quot;API&quot;. On that page you can generate an API token that you can use to interact with our API.</p>

<p>To pass the API token, add an <code>Authorization: Bearer &lt;token&gt;</code> HTTP header, where you replace <code>&lt;token&gt;</code> with the token you just generated.</p>
<h2 id='forming-graphql-calls'>Forming GraphQL Calls</h2><pre class="highlight plaintext"><code>cat &gt;query.json &lt;&lt;EOF
{
  "query": "query {
    tracks {
      id
      slug
    }
  }"
}
EOF

curl -H "Authorization: Bearer &lt;token&gt;" -X POST -d @query.json https://instruqt.com/graphql
</code></pre>
<p>All calls to the API are made using HTTP <code>POST</code> requests. The actual query/mutation is specified as a JSON-encoded body. As an example, here is a query that lists the <code>id</code> and <code>slug</code> of all public tracks:</p>
<h2 id='api-reference'>API Reference</h2>
<p>The complete API is documented at: <a href="api/">https://instruqt.com/docs/api/</a>.</p>
<h2 id='explore-the-api-interactively'>Explore the API interactively</h2>
<p>To explore the API interactively, we recommend using the <a href="https://github.com/prisma/graphql-playground">GraphQL Playground</a>. The Playground is GraphQL IDE that you can install as a desktop app. You can use the API endpoint and your organization API token to interact with our API.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
